import{r as a,u as y,j as e,M as w,T as n,G as o,C as v,a as S,B as f,b as E,c as C,g as B}from"./index-D1P8NqU1.js";import{B as T}from"./Banner-Ci2GEDfJ.js";import{f as D}from"./PromoApi-DkP5JluF.js";import{f as P}from"./NewsApi-CD4q0k_C.js";import{f as k}from"./SuccessStoryApi-Eakrx0rb.js";import"./BannerApi-BXq71oNe.js";const V=()=>{const[r,c]=a.useState([]),[i,A]=a.useState(!1),[b,h]=a.useState({}),u={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken},x=y(),m=s=>{if(!s)return null;const d=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,g=s.match(d);return g&&g[2].length===11?g[2]:s},p=s=>s?s.length===11?!0:[/youtube\.com\/watch\?v=/,/youtu\.be\//,/youtube\.com\/embed\//,/youtube\.com\/v\//,/youtube\.com\/user\/.*\/videos/,/youtube\.com\/.*\/videos/].some(g=>g.test(s)):!1,t=async()=>{try{const d=(await D(u)).content;d&&c(d)}catch(s){console.error("Error fetching promos:",s)}};a.useEffect(()=>{t()},[]);const l=()=>{x("promos")},N=s=>{h(d=>({...d,[s]:!0}))},I=i?r:r.slice(0,3);return e.jsxs(w,{children:[e.jsx(n,{variant:"h3",gutterBottom:!0,children:"Promos"}),e.jsx(o,{container:!0,spacing:3,children:I.map(s=>e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsx(v,{sx:{height:"100%",display:"flex",flexDirection:"column",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out","&:hover":{transform:"scale(1.03)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)",cursor:"pointer"}},children:e.jsxs(S,{sx:{flexGrow:1},children:[s.youTube&&!b[s.promoId]&&p(s.youTube)?e.jsx(f,{sx:{position:"relative",paddingTop:"56.25%",mb:2,borderRadius:"8px",overflow:"hidden"},children:e.jsx("iframe",{title:`${s.promoName} YouTube Video`,src:`https://www.youtube.com/embed/${m(s.youTube)}?rel=0`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onError:()=>N(s.promoId),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"}})}):e.jsx(f,{sx:{position:"relative",paddingTop:"56.25%",mb:2,backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:e.jsx(n,{color:"textSecondary",children:b[s.promoId]?"Video unavailable":"Invalid YouTube URL"})}),e.jsx(n,{variant:"h5",gutterBottom:!0,children:s.promoName}),e.jsx(n,{variant:"body2",color:"text.secondary",children:s.description})]})})},s.promoId))}),r.length>3&&!i&&e.jsx(f,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(E,{variant:"contained",color:"primary",onClick:l,sx:{backgroundColor:"#03045E","&:hover":{backgroundColor:"#03045E",opacity:.9}},children:"View All"})})]})},$=()=>{const[r,c]=a.useState([]),[i,A]=a.useState(!1),h={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken},j=y(),u=async()=>{try{const t=await P(h),l=t.data.content;console.log(t),l&&c(l)}catch(t){console.error("Error fetching news:",t)}};a.useEffect(()=>{u()},[]);const x=()=>{j("all/news")},m=i?r:r.slice(0,3),p=`${C}/file/downloadFile/?filePath=`;return e.jsxs(w,{children:[e.jsx(n,{variant:"h3",gutterBottom:!0,children:"News"}),e.jsx(o,{container:!0,spacing:2,children:m.map(t=>e.jsx(o,{item:!0,xs:12,sm:6,md:4,lg:4,children:e.jsx(v,{sx:{border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out","&:hover":{transform:"scale(1.03)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)",cursor:"pointer"},margin:{sm:2,xs:0},mt:{xs:2,sm:0}},children:e.jsxs(S,{children:[t.photoPath&&e.jsx("img",{src:`${p}${t.photoPath}`,alt:t.newsName,style:{width:"100%",height:"200px",objectFit:"cover",marginBottom:"1rem"}}),e.jsx(n,{variant:"h4",sx:{mb:2},children:t.newsName}),e.jsx(n,{variant:"body2",children:t.description})]})})},t.newsId))}),e.jsx(f,{sx:{textAlign:{sm:"right",xs:"center"},mt:2,mr:2},children:!i&&r.length>3&&e.jsx(E,{variant:"contained",color:"primary",onClick:x,children:"View All"})})]})},R=()=>{const[r,c]=a.useState([]),[i,A]=a.useState(!1),h={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken},j=y(),u=async()=>{try{const t=await k(h),l=t.data.content;console.log(t),l&&c(l)}catch(t){console.error("Error fetching news:",t)}};a.useEffect(()=>{u()},[]);const x=()=>{j("success-stories")},m=i?r:r.slice(0,3),p=`${C}/file/downloadFile/?filePath=`;return e.jsxs(w,{children:[e.jsx(n,{variant:"h3",gutterBottom:!0,children:"Success Stories"}),e.jsx(o,{container:!0,spacing:2,children:m.map(t=>e.jsx(o,{item:!0,xs:12,sm:6,md:4,lg:4,children:e.jsx(v,{sx:{border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out","&:hover":{transform:"scale(1.03)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)",cursor:"pointer"},margin:{sm:2,xs:0},mt:{xs:2,sm:0}},children:e.jsxs(S,{children:[t.photoPath&&e.jsx("img",{src:`${p}${t.photoPath}`,alt:t.successstoryName,style:{width:"100%",height:"200px",objectFit:"cover",marginBottom:"1rem"}}),e.jsx(n,{variant:"h4",sx:{mb:2},children:t.successstoryName}),e.jsx(n,{variant:"body2",children:t.description})]})})},t.newsId))}),e.jsx(f,{sx:{textAlign:{sm:"right",xs:"center"},mt:2,mr:2},children:!i&&r.length>3&&e.jsx(E,{variant:"contained",color:"primary",onClick:x,children:"View All"})})]})},L=()=>{const[r,c]=a.useState(!0);return a.useEffect(()=>{c(!1)},[]),e.jsx(o,{container:!0,spacing:B,children:e.jsx(o,{item:!0,xs:12,children:e.jsxs(o,{container:!0,spacing:B,children:[e.jsx(o,{item:!0,lg:12,md:12,sm:12,xs:12,children:e.jsx(T,{isLoading:r})}),e.jsx(o,{item:!0,xs:12,children:e.jsx(V,{isLoading:r})}),e.jsx(o,{item:!0,xs:12,children:e.jsx($,{isLoading:r})}),e.jsx(o,{item:!0,xs:12,children:e.jsx(R,{isLoading:r})})]})})})};export{L as default};
